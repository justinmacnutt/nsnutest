// ec_AddEvent.js - 7.0.4752  
function ec_formAddEventClicked(n){var r=OneWeb.Apps,t,i;return ec_cancelled?!0:(t="AddEvent",i=new r.CheckDataEventArgs(n,t),ec_checkRequestData(this,i),i.isInvalid(t)&&r.focusFirstInvalid(t),!i.isInvalid())}function ec_findField(n,t){for(var i=n.parentNode||(n.get_element?n.get_element():t);typeof i.className!="undefined"&&!/ec_sf_group/i.test(i.className)&&i.parentNode!==null;)i=i.parentNode;return i}function ec_checkRequestData(n,t){var i=OneWeb.Apps,g=t.get_group(),c,b,r,l,a,f,p,u,v,y,e,o,k,s,h,d,w;i.dismissValidators(g),c=$get(ec_addFieldPrefix+"ec_txtSubmitterName"),c!=null&&c.value.length==0&&(i.triggerValidator($get(ec_addFieldPrefix+"ec_rfvSubmitterName"),ec_findField(c),c),t.setInvalid()),b=/^([a-zA-Z0-9_\.\-\+])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/,r=$get(ec_addFieldPrefix+"ec_txtSubmitterEmail"),r!=null&&(r.value.length==0?(i.triggerValidator($get(ec_addFieldPrefix+"ec_rfvSubmitterEmail"),ec_findField(r),r),t.setInvalid()):r.value.match(b)||(i.triggerValidator($get(ec_addFieldPrefix+"ec_regvSubmitterEmail"),ec_findField(r),r),r.select(),t.setInvalid())),l=$get(ec_addFieldPrefix+"ec_txtName"),l!=null&&l.value.length==0&&(i.triggerValidator($get(ec_addFieldPrefix+"ec_rfvName"),ec_findField(l),l),t.setInvalid()),a=$get(ec_addFieldPrefix+"ec_lstCategory"),a!=null&&a.value=="0"&&(i.triggerValidator($get(ec_addFieldPrefix+"ow_rfvCategory"),ec_findField(a),a),t.setInvalid()),f=$find(ec_addFieldPrefix+"ec_dtStartDate"),p=$find(ec_addFieldPrefix+"ec_dtEndDate"),f!==null&&(f.get_selectedDate()===null?(i.triggerValidator($get(ec_addFieldPrefix+"ec_rfvStartDate"),ec_findField(f.get_element()),f),t.setInvalid()):p!=null&&p.get_selectedDate()!==null&&p.get_selectedDate()<f.get_selectedDate()&&(i.triggerValidator($get(ec_addFieldPrefix+"ec_DateCompare"),ec_findField(f.get_element()),f),t.setInvalid())),u=$find(ec_addFieldPrefix+"ec_tmStartTime"),v=$find(ec_addFieldPrefix+"ec_tmEndTime"),u!==null&&v!==null&&(u.get_selectedDate()!==null&&v.get_selectedDate()!==null?v.get_selectedDate()<u.get_selectedDate()&&(i.triggerValidator($get(ec_addFieldPrefix+"ec_cvTimeCompare"),ec_findField(u.get_element()),u),t.setInvalid()):u.get_selectedDate()===null!=(v.get_selectedDate()===null)&&(i.triggerValidator($get(ec_addFieldPrefix+"ec_cvTimeRequired"),ec_findField(u.get_element()),u),t.setInvalid())),y=$get(ec_addFieldPrefix+"ec_txtSummary"),y!=null&&y.value.length>255&&(i.triggerValidator($get(ec_addFieldPrefix+"ec_cvSummaryLength"),ec_findField(y),y),t.setInvalid()),e=$get(ec_addFieldPrefix+"ec_txtDescription"),e!=null&&(e.value.length==0?(i.triggerValidator($get(ec_addFieldPrefix+"ec_rfvDescription"),ec_findField(e),e),t.setInvalid()):e.value.length>1024&&(i.triggerValidator($get(ec_addFieldPrefix+"ec_cvDescriptionLength"),ec_findField(e),e),t.setInvalid())),o=$get(ec_addFieldPrefix+"ec_txtContactEmail"),o!=null&&o.value.length>0&&!o.value.match(b)&&(i.triggerValidator($get(ec_addFieldPrefix+"ec_rxvContactEmail"),ec_findField(o),o),o.select(),t.setInvalid()),k=/^((?:ftp|http|https):\/\/)+([!-~])+([.])+(?:com|edu|biz|org|gov|int|info|mil|net|name|museum|coop|aero|[A-Za-z][A-Za-z])\b(?:\:\d+)?(?:\/[!-~]*)?$/i,s=$get(ec_addFieldPrefix+"ec_txtWebsite"),s!=null&&s.value.length>0&&(s.value.match(k)||(i.triggerValidator($get(ec_addFieldPrefix+"ec_rxvWebsite"),ec_findField(s),s),t.setInvalid())),h=$get(ec_addFieldPrefix+"ec_txtRegistrationWebsite"),h!=null&&h.value.length>0&&(h.value.match(k)||(i.triggerValidator($get(ec_addFieldPrefix+"ec_rxvRegistrationWebsite"),ec_findField(h),h),t.setInvalid())),d=$find(ec_addFieldPrefix+"ec_Captcha"),d!==null&&(w=d.get_textBox(),w.value.length==0&&(i.triggerValidator($get(ec_addFieldPrefix+"ec_rfvCaptcha"),ec_findField(w),w),t.setInvalid()))}var ec_addFieldPrefix="tmpl_ecAddEvent_c_",ec_cancelled=!1;OneWeb.Util.appendLoadEvent(function(){var n=OneWeb.Util,i,t,u;if($get(ec_addFieldPrefix+"ec_btnOK")!=null&&n.addEvent($get(ec_addFieldPrefix+"ec_btnOK"),"click",ec_formAddEventClicked,!1),$get("ec_addevent")!=null)for(i=$get("ec_addevent").getElementsByTagName("input"),t=0,u=i.length;t<u;t++)i[t].type=="text"&&n.addEnterKeyEvent(i[t],function(n){return $get(ec_addFieldPrefix+"ec_btnOK").click(),OneWeb.Util.failEvent(n)});var f=$find(ec_addFieldPrefix+"ec_dtStartDate"),e=$find(ec_addFieldPrefix+"ec_dtEndDate"),o=$find(ec_addFieldPrefix+"ec_tmStartTime"),s=$find(ec_addFieldPrefix+"ec_tmEndTime"),r=function(n){if(n.keyCode>=48||n.keyCode==32)return OneWeb.Util.failEvent(n)};f!=null&&n.addEvent(f.get_dateInput().get_element(),"keydown",r),e!=null&&n.addEvent(e.get_dateInput().get_element(),"keydown",r),o!=null&&n.addEvent(o.get_dateInput().get_element(),"keydown",r),s!=null&&n.addEvent(s.get_dateInput().get_element(),"keydown",r)})